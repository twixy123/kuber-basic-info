# Метки

Метки нужны для сортировки, фильтрации объектов.

> В данном примере я буду использовать в основном поды, потому что сейчас учусь на них, но метки можно задавать и другим сущностям

Если создавать поды через командную строку, `label` ( метка ) будет 1: `run` со значением названиея пода
Если не создавать метки в конфигурационном файле, кубер их не будет проставлять вообще.

---

#### вывести поды с их метками

`kubectl get pods --show-labels`

---

#### вывести поды по меткам

`kubectl get pods -L {{названия,меток,через,запятую}}`

#### будет примерно такой ответ

Примечание, выведутся все пода, но метки будут отображаться только те которые мы указали

| NAME          | READY | STATUS      | RESTARTS                             | AGE               | APP            | ENVIRONMENT    |
| ------------- | ----- | ----------- | ------------------------------------ | ----------------- | -------------- | -------------- |
| название пода | 1/1   | статус пода | Когда в последний раз перезагружался | сколько живет под | значение метки | значение метки |

---

#### Добавить метку к уже существующему поду

`kubectl label pods {{название-пода}} {{название-метки}}={{значение-метки}}`

так же обновить под можно заново заэплаить файл с новыми метками указав название нужного пода

---

## фильтр по меткам

**= | == | !=**

---

#### вывести поды по значению определенной метки

**1 способ:**

`kubectl get pods -l {{название-метки}}={{значение-метки}}`

Если передавать метки и значения через запятые, это сопоставимо знаку "И"

`kubectl get pods -l {{название-метки}}={{значение-метки}},{{название-второй-метки}}={{значение-второй-метки}}`

**2 способ:**

`kubectl get pods -l '{{название-метки}} in ({{значение-метки}})'`

---

#### вывести поды значение меток которых не равно указанному

**1 способ:**

`kubectl get pods -l {{название-метки}}!={{значение-метки}}`

**2 способ:**

`kubectl get pods -l '{{название-метки}} notin ({{значение-метки}})'`

---

#### вывести поды которые имеют указанную метку/метки

`kubectl get pods -l {{названия,меток,через,запятую}}`

---

#### вывести поды которые не имеют указанную метку

`kubectl get pods -l '!{{название-метки}}'`

---

#### удалить поды на основе меток

`kubectl delete pods -l {{название-метки}}={{значение-метки}}`

В целом тут работает все тоже самое что и с предыдущими фильтрами и сортировками

---