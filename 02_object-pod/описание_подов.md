# Поды

#### Создать под через командную строку

`kubectl run {{название-пода-который-вы-создаете}} --image={{название-образа-из-docker-hub}} --port={{порт-на-котором-работает-будущий-контейнер-из-образа}}`

---

#### посмотреть какие поды сейчас работают

`kubectl get pods`

---

#### посмотреть описание пода

`kubectl describe pod {{название-пода-который-вы-хотите-посмотреть}}`

---

#### зайти внутрь контейнера пода ( если в поде работает 1 контейнер )

`kubectl exec -it {{название-пода}} -- /bin/bash`

**Разбор:**

- -i что бы зайти через поток stdin ( не понял что это такое )
- -t что бы выделить псевдо терминал
- /bin/bash, ха. Затейливая штука. На моем ноуте не получилось зайти через терминал bash, почему не знаю. Но при этом в docker контейнеры я могу заходить через bash ( `docker exec -it {{название-докер-контейнреа}} /bin/bash` ), но в под не могу, хотя это тот же конейнер по сути. Может быть указание этих `--` двух черточек мешают. В общем у меня получилось зайти внутрь этого пода только через `sh`, вроде как это шел терминал ( `kubectl exec -it {{название-пода}} -- /bin/sh` )

Что бы выйти из псевдотерминала нужно прописать `exit`, работает со всеми такими внутренними терминалами. По крайней мере пока никогда не возникало проблем.

---

#### зайти внутрь контейнера пода ( если в поде работает несколько контейнеров )

`kubectl exec -it {{название-пода}} --container {{название-контейнера}} -- /bin/bash`

---

#### создание пода через файл

`kubectl apply -f create-kuber-pod.yaml`

---

#### запустить переадресацию портов из браузерной строки на порт нашего контейнера ( обычно это все настраиваться через другие конфиги, но в качестве примера можно поглядеть )

`kubectl port-forward {{имя-пода}} {{желаемый-порт}}:{{порт-на-котором-работает-контейнер-с-нашим-приложением}}`

---

#### Посмотреть логи контейнера пода

`kubectl logs {{название-пода}}`

---

#### Что бы посмотреть логи контейнера если бы их было много

`kubectl logs {{название-пода}} --container {{название-контейнера}}`

---

#### удалить pod через командную строку

`kubectl delete pods {{название-пода}}`

---

#### удалить pod через файл

`kubectl delete -f {{путь-к-файлу-через-который-ранее-создавался-под}}`